local DrRayLibrary = loadstring(game:HttpGet("https://raw.githubusercontent.com/AZYsGithub/DrRay-UI-Library/main/DrRay.lua"))() 
local window = DrRayLibrary:Load("Rinns Hub", "Default") 
local tab = DrRayLibrary.newTab("Main Tab", "ImageIdHere") 

local autoGetDrops = false 
local pingEveryone = false 
local itemsToFind = { "Wealth Cube", "Speed Cube", "Pastel Cube", "Spore Blossom", "Technosphere", "Luck Cube", "Haste Cube", "Golden Cube", "Glitch Cube", "Fortune Cube", "Event Horizon" } 

local storedWebhookUrl = nil
local antiAfkConnection

tab.newToggle("Auto Get All Drops", "Auto Farms All the Drops for you", true, function(toggleState) 
    autoGetDrops = toggleState 
    if autoGetDrops then 
        print("Auto Get All Drops is now ON") 
        autoFarm() 
    else 
        print("Auto Get All Drops is now OFF") 
    end 
end) 

tab.newToggle("Ping Everyone", "Ping everyone in Discord notifications", false, function(toggleState)
    pingEveryone = toggleState
    if pingEveryone then
        print("Ping Everyone is now ON")
    else
        print("Ping Everyone is now OFF")
    end
end)

tab.newInput("Input", "Prints your input.", function(text) 
    if string.match(text, "^https://discord.com/api/webhooks/%d+/[%w-_]+$") then
        storedWebhookUrl = text
        print("Stored webhook URL: " .. text)
    else
        print("Entered text: " .. text)
    end
end)

tab.newButton("Anti Afk", "Prevents you from being able to get kicked", function()
    print("Anti-AFK Activated")
    if antiAfkConnection then
        antiAfkConnection:Disconnect()
    end
    antiAfkConnection = game:GetService("Players").LocalPlayer.Idled:Connect(function()
        game:GetService("VirtualUser"):CaptureController()
        game:GetService("VirtualUser"):ClickButton2(Vector2.new())
        print("Prevented AFK kick")
    end)
end)

function teleportTo(part) 
    local player = game.Players.LocalPlayer 
    local character = player.Character or player.CharacterAdded:Wait() 
    if character.PrimaryPart then 
        character:SetPrimaryPartCFrame(part.CFrame) 
        warn("Teleported to", part.Parent.Name) 
    else 
        warn("Character primary part not found") 
    end 
end 

function autoFarm() 
    while autoGetDrops do 
        for _, itemName in ipairs(itemsToFind) do 
            for _, item in pairs(workspace:GetChildren()) do 
                if item:IsA("Model") and item.Name == itemName then 
                    local hitbox = item:FindFirstChild("Hitbox") 
                    if hitbox then 
                        print("Teleporting to", itemName) 
                        teleportTo(hitbox) 
                        wait(1) 
                        if storedWebhookUrl then
                            sendWebhookMessage(itemName)
                        end
                    else 
                        warn(itemName, "found but Hitbox not found") 
                    end 
                end 
            end 
        end 
        wait(0.1) -- Small delay to prevent excessive looping 
    end 
end

function sendWebhookMessage(cubeName)
    local HttpService = game:GetService("HttpService")
    local messageContent = (pingEveryone and "@everyone " or "") .. "Collected " .. cubeName .. "\nhttps://discord.com/invite/QP8ZqdFZye"
    local msg = {
        ["content"] = messageContent,
    }

    request = http_request or request or HttpPost or syn.request
    request({
        Url = storedWebhookUrl,
        Method = "POST",
        Headers = {
            ["Content-Type"] = "application/json",
        },
        Body = HttpService:JSONEncode(msg),
    })
end

-- Variables for teleportation feature
local toggleOn = false
local teleportInterval = 180 -- 3 minutes in seconds
local timeElapsed = 0
local player = game.Players.LocalPlayer
local part = game.Workspace:WaitForChild("ObbyEnd")

-- Function to teleport player
local function teleportPlayer()
    player.Character:MoveTo(part.Position + Vector3.new(0, 5, 0)) -- Teleports 5 studs above the part
end

-- Function to handle teleportation loop
local function teleportLoop()
    while toggleOn do
        wait(teleportInterval - timeElapsed)
        if toggleOn then
            teleportPlayer()
            timeElapsed = 0
        end
    end
end

-- Toggle for teleportation feature
tab.newToggle("Auto Do Luck Boost Obby", "Auto Does The Luck Boost Obby For You", false, function(toggleState)
    toggleOn = toggleState

    if toggleOn then
        print("Imagine")
        teleportPlayer()  -- Teleport immediately upon toggling on
        teleportLoop()
    else
        print("Imagine Turning This Ocf")
        -- Store the time elapsed if toggled off
        timeElapsed = os.time() % teleportInterval
    end
end)

